<!DOCTYPE html>
<html>
    <body>
        <h1>
            Insert book
        </h1>

            <!-- //Book:
    "title": "Clean Code",
    "author": "Robert C. Martin",
    "ISBN10": "9780132350884",
    "ISBN13": "978-0132350884",
    "publishedDate": "01/08/2008",
    "numberOfPages": 464,
    "publisher": "Pearson",
    "reviewScore": 4.38, -->

    <form action="" onsubmit="event.preventDefault();">
        <label for="title">Title</label><br>
        <span id="titleError" style="color: red;" hidden></span>
        <input type="text" id="title" name="title" value=""><br>
        <label for="author">Author</label><br>
        <span id="authorError" style="color: red;" hidden></span>
        <input type="text" id="author" name="author" value=""><br>
        <label for="ISBN10">ISBN10</label><br>
        <span id="ISBN10Error" style="color: red;" hidden></span>
        <input type="text" id="ISBN10" name="ISBN10" value=""><br>
        <label for="ISBN13">ISBN13</label><br>
        <span id="ISBN13Error" style="color: red;" hidden></span>
        <input type="text" id="ISBN13" name="ISBN13" value=""><br>
        <label for="publishedDate">Published Date</label><br>
        <span id="publishedDateError" style="color: red;" hidden></span>
        <input type="text" id="publishedDate" name="publishedDate" value=""><br>
        <label for="numberOfPages">Number Of Pages</label><br>
        <span id="numberOfPagesError" style="color: red;" hidden></span>
        <input type="text" id="numberOfPages" name="numberOfPages" value=""><br>
        <label for="publisher">Publisher</label><br>
        <span id="publisherError" style="color: red;" hidden></span>
        <input type="text" id="publisher" name="publisher" value=""><br>
        <label for="reviewScore">Review score</label><br>
        <span id="reviewScoreError" style="color: red;" hidden></span>
        <input type="text" id="reviewScore" name="reviewScore" value=""><br><br>
        <input type="submit" value="Submit" onclick="clickedOnSubmit()">
    </form>

    <script>
        //prefill with valid values
        document.getElementById("title").value = "Clean Code";
        document.getElementById("author").value = "Robert C. Martin";
        document.getElementById("ISBN10").value = "9780132350884";
        document.getElementById("ISBN13").value = "978-0132350884";
        // document.getElementById("publishedDate").value = "01/08/2008";
        document.getElementById("numberOfPages").value = 464;
        document.getElementById("publisher").value = "Pearson";
        document.getElementById("reviewScore").value = 4.38;



        function clickedOnSubmit(){
            console.log("Clicked on submit");
            if (document.getElementById("title").value == "" 
            || document.getElementById("author").value == ""
            || document.getElementById("ISBN10").value == ""
            || document.getElementById("ISBN13").value == ""
            || document.getElementById("publishedDate").value == ""
            || document.getElementById("numberOfPages").value == ""
            || document.getElementById("publisher").value == ""
            || document.getElementById("reviewScore").value == ""){
            }

            document.getElementById("titleError").hidden = true;
            document.getElementById("authorError").hidden = true;
            document.getElementById("ISBN10Error").hidden = true;
            document.getElementById("ISBN13Error").hidden = true;
            document.getElementById("publishedDateError").hidden = true;
            document.getElementById("numberOfPagesError").hidden = true;
            document.getElementById("publisherError").hidden = true;
            document.getElementById("reviewScoreError").hidden = true;

            if (document.getElementById("title").value == ""){
                document.getElementById("titleError").hidden = false;
                document.getElementById("titleError").innerHTML = "Please fill in the title field<br/>";
            }
            
            if (document.getElementById("author").value == ""){
                document.getElementById("authorError").hidden = false;
                document.getElementById("authorError").innerHTML = "Please fill in the author field<br/>";
            }
            if (document.getElementById("ISBN10").value == ""){
                document.getElementById("ISBN10Error").hidden = false;
                document.getElementById("ISBN10Error").innerHTML = "Please fill in the ISBN10 field<br/>";
            }
            if (document.getElementById("ISBN13").value == ""){
                document.getElementById("ISBN13Error").hidden = false;
                document.getElementById("ISBN13Error").innerHTML = "Please fill in the ISBN13 field<br/>";
            }
            if (document.getElementById("publishedDate").value == ""){
                document.getElementById("publishedDateError").hidden = false;
                document.getElementById("publishedDateError").innerHTML = "Please fill in the Published Date field<br/>";
            }else{
                //check the format, ex: 21/04/2024
                let inputDate = document.getElementById("publishedDate").value;
                let split = inputDate.split("/");
                if (split.length != 3){
                    document.getElementById("publishedDateError").hidden = false;
                    document.getElementById("publishedDateError").innerHTML = "Please fill in the Published Date in the dd//MM/yyyy format<br/>";
                }else{
                    let day = split[0];
                    let month = split[1];
                    let year = split[2];
                    if (day < 1 || day > 31 || month < 1 || month > 12 || year < 1900 || year > 2030){
                        document.getElementById("publishedDateError").hidden = false;
                        document.getElementById("publishedDateError").innerHTML = "Please fill in the Published Date in the dd//MM/yyyy format<br/>";
                    }
                }

            }
            if (document.getElementById("numberOfPages").value == ""){
                document.getElementById("numberOfPagesError").hidden = false;
                document.getElementById("numberOfPagesError").innerHTML = "Please fill in the Number Of Pages field<br/>";
            }
            if (document.getElementById("publisher").value == ""){
                document.getElementById("publisherError").hidden = false;
                document.getElementById("publisherError").innerHTML = "Please fill in the publisher field<br/>";
            }
            if (document.getElementById("reviewScore").value == ""){
                document.getElementById("reviewScoreError").hidden = false;
                document.getElementById("reviewScoreError").innerHTML = "Please fill in the reviewScore field<br/>";
            }
        }
    </script>

    </body>
</html>